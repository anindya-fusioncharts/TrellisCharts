(function(){
(function(){function E(a){var c=void 0;a[0][1]&&(c=a[0][1]);for(var d=1;d<a.length;d++)c<a[d][1]&&(c=a[d][1]);return c}function G(){B=Math.floor(100/(Math.ceil(b.chart.width/window.innerWidth*100)+8));return b.chart.yMap.length%B?!0:!1}function L(a,c){var d={},h="",f,e,g;M();N();A=0;c=G();for(var k=0;k<b.chart.yMap.length;k++){A++;m=new x(a,b.chart.width,b.chart.height,"chartSpace");m.drawYaxis(b.yAxisTicks[k],b.chart.yMap[k],c);m.drawXaxis(k,b.xAxisTicks,b.chart.xMap);h="";e=b.xAxisTicks[b.xAxisTicks.length-
1].getTime()-b.xAxisTicks[0].getTime();for(var n=0;n<u[k].length;n++)f=b.yAxisTicks[k][b.yAxisTicks[k].length-1]-b.yAxisTicks[k][0],d=m.coordinate(m.xShift(u[k][n][0],b.xAxisTicks[0].getTime(),e),m.yShift(u[k][n][1],b.yAxisTicks[k][0],f)),h=h+d.x+","+d.y+" ";m.drawPoly(h,"graph");h=parseInt(m.svg.getBoundingClientRect().left);g=parseInt(m.svg.getBoundingClientRect().top);for(n=0;n<u[k].length;n++)d=m.coordinate(m.xShift(u[k][n][0],b.xAxisTicks[0].getTime(),e),m.yShift(u[k][n][1],b.yAxisTicks[k][0],
f)),u[k][n][2]=d.x,u[k][n][3]=d.y,m.drawCircle(d,"plotPoint",h+d.x,g+d.y);U(m,b.yAxisTicks[k],"crossHair","rect");m.svg.addEventListener("mousedown",function(c){O(c,m,a,"line")});m.svg.addEventListener("mousemove",function(c){P(c,m,a,"line")});m.svg.addEventListener("mouseup",function(c){F(c,m,a,"line")});m.svg.addEventListener("mouseleave",function(c){F(c,m,a,"line")})}}function O(a,c,d,b){v.style.left="0px";v.style.top="0px";v.style.width="0px";v.style.height="0px";H=!0;if("line"==b)for(c=document.getElementsByClassName("plotPoint"),
d=0;d<c.length;d++)c[d].setAttribute("fill","#ffffff"),c[d].setAttribute("r",4);else if("column"==b)for(c=document.getElementsByClassName("column"),d=0;d<c.length;d++)c[d].setAttribute("style","fill:#3E72CC");c=a.clientX;a=a.pageY;v.style.left=c+"px";v.style.top=a+"px";I=c;J=a}function P(a,c,d,b){if(H){c=parseInt(v.style.left);d=parseInt(v.style.top);I>a.clientX?(v.style.left=Math.abs(a.clientX)+"px",v.style.width=Math.abs(I-a.clientX)+"px"):v.style.width=Math.abs(c-a.clientX)+"px";J>a.pageY?(v.style.top=
Math.abs(a.pageY)+"px",v.style.height=Math.abs(J-a.pageY)+"px"):v.style.height=Math.abs(d-a.pageY)+"px";if("line"==b){var f=document.getElementById("selectSpace");a=parseInt(f.style.left);c=parseInt(f.style.top);d=a+parseInt(f.style.width);for(var f=c+parseInt(f.style.height),e=-1,g=99999,k,n,l=document.getElementsByClassName("plotPoint"),r=0;r<l.length;r++)k=Number(l[r].getAttribute("absoluteX")),n=Number(l[r].getAttribute("absoluteY")),k>=a&&k<=d&&n>=c&&n<=f&&(l[r].setAttribute("fill","#f44336"),
l[r].setAttribute("r",6),g>Number(l[r].getAttribute("cx"))&&(g=Number(l[r].getAttribute("cx"))),e<Number(l[r].getAttribute("cx"))&&(e=Number(l[r].getAttribute("cx"))));for(r=0;r<l.length;r++)g<=Number(l[r].getAttribute("cx"))&&Number(l[r].getAttribute("cx"))<=e&&(l[r].setAttribute("fill","#f44336"),l[r].setAttribute("r",6))}if("column"==b){d=document.getElementById("selectSpace");b=parseInt(d.style.left);a=parseInt(d.style.top);c=b+parseInt(d.style.width);d=a+parseInt(d.style.height);for(var f=-1,
e=99999,r=document.getElementsByClassName("column"),p=0,q=0;p<r.length;p++)g=Number(r[p].getAttribute("absoluteX")),k=Number(r[p].getAttribute("absoluteY")),n=Number(r[p].getAttribute("height")),l=Number(r[p].getAttribute("width")),b<g+l&&c>g&&a<k+n&&d>k?(r[p].setAttribute("style","fill:#B74947"),e>=Number(r[p].getAttribute("x"))&&(e=Number(r[p].getAttribute("x"))),f<Number(r[p].getAttribute("x"))&&(f=Number(r[p].getAttribute("x"))),q++):r[p].setAttribute("style","fill:#3E72CC");for(p=0;p<r.length;p++)Number(r[p].getAttribute("x"))>=
e&&Number(r[p].getAttribute("x"))<=f&&r[p].setAttribute("style","fill:#B74947")}}}function F(a,c,d,b){H=!1;a=document.getElementById("selectSpace");a.style.left="0px";a.style.top="0px";a.style.width="0px";a.style.height="0px"}function Q(){for(var a=0;a<b.chart.yMap.length;a++){u[a]=[];for(var c=0,d=0;c<b.data.length;c++)void 0!=b.data[c][b.chart.yMap[a]]&&void 0!=b.data[c][b.chart.xMap]&&(u[a][d]=[],u[a][d][0]=(new Date(b.data[c][b.chart.xMap].toString())).getTime(),u[a][d][1]=b.data[c][b.chart.yMap[a]],
d++);var c=u,d=a,h=u[a],f;do{f=!1;for(var e=0;e<h.length-1;e++)h[e][0]>h[e+1][0]&&(f=h[e],h[e]=h[e+1],h[e+1]=f,f=!0)}while(f);c[d]=h}}function M(){var a,c,d,h=[];b.xAxisTicks=[];y=new Date(b.data[0][b.chart.xMap]);z=new Date(b.data[0][b.chart.xMap]);for(c=a=0;a<b.data.length;a++)void 0!=b.data[a][b.chart.xMap]&&(y||z||(y=new Date(b.data[a][b.chart.xMap]),z=new Date(b.data[a][b.chart.xMap])),d=new Date(b.data[a].date),y<d&&(y=d),z>d&&(z=d),c++);a=y.getTime()-z.getTime();c=10>=c&&800>b.chart.height?
Math.floor(a/(c-1)):Math.floor(a/9);300>b.chart.height&&(c=6);d=z;h[0]=z;for(a=1;d<=y;a++)d=new Date(parseInt(h[a-1].getTime()+c)),d<=y&&(h[a]=d);b.xAxisTicks=h}function N(){var a,c,d;b.yAxisTicks=[];for(var h=0,f,e,g,k,n,l=1,r,p=0;p<b.chart.yMap.length;p++){a=d=void 0;for(c=0;c<b.data.length;c++)void 0!=b.data[c][b.chart.yMap[p]]&&(void 0==d&&void 0==a&&(d=b.data[c][b.chart.yMap[p]],a=b.data[c][b.chart.yMap[p]]),d<b.data[c][b.chart.yMap[p]]&&(d=b.data[c][b.chart.yMap[p]]),a>b.data[c][b.chart.yMap[p]]&&
(a=b.data[c][b.chart.yMap[p]]),n=0,n<R(b.data[c][b.chart.yMap[p]])&&(n=R(b.data[c][b.chart.yMap[p]])));f=0;if(a!=d){if(0>a){a*=-1;for(g=-1;a;)k=Math.floor(a%10),a=Math.floor(a/10),g++;c=(k+1)*Math.pow(10,g)*-1;h=1}else{for(g=-1;a;)k=Math.floor(a%10),a=Math.floor(a/10),g++;c=g?k*Math.pow(10,g):0}if(0>d){d*=-1;g=-1;for(a=d;a;)k=Math.floor(a%10),a=Math.floor(a/10),g++;d=g?k*Math.pow(10,g):0}else{g=-1;for(a=d;a;)k=Math.floor(a%10),a=Math.floor(a/10),g++;d=(k+1)*Math.pow(10,g)}d%1&&(d=parseInt(d.toString().split(".")[0]+
""+d.toString().split(".")[1].substring(0,n)));c%1&&(c=parseInt(c.toString().split(".")[0]+""+c.toString().split(".")[1].substring(0,n)));1==h&&(f=c,d-=c,c=0);1>Math.abs(d)&&(l=-1);g=2;parseInt(d.toString()[1])||(g=1);a=Math.floor(d/Math.pow(10,d.toString().length-g))-Math.floor(c/Math.pow(10,d.toString().length-g));Math.floor(c/Math.pow(10,d.toString().length-g))||(c=0);0<=a&&1>=a?r=.25:0<=a&&1>=a?r=.25:1<a&&2>=a?r=.5:2<a&&6>=a?r=1:6<a&&12>=a?r=2:12<a&&20>=a?r=4:20<a&&30>=a?r=5:30<a&&40>a?r=7:40<=
a&&(r=10)}else c=a-5,d+=5,0>c&&(h=1),1==h&&(f=c,d-=c,c=0),r=.5;a=[];a[0]=c+f;e=a[0];for(c=1;e<=d+f;c++)a[c]=a[c-1]+r*Math.pow(10,l*(d.toString().length-g)),e=a[c];b.yAxisTicks[p]=a}}function x(a,c,d,h){this.marginX=b.chart.marginX;this.marginY=b.chart.marginY;this.topMarginY=b.chart.topMarginY;this.paddingX0=this.marginX;this.paddingY0=this.marginY;this.paddingX1=this.marginX-5;this.paddingY1=this.marginY-5;this.paddingX2=this.marginX-10;this.paddingY2=this.marginY-10;this.paddingTextX=this.marginX-
30;this.paddingTextY=this.marginY-40;this.rootElement=document.getElementById(a);this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.height=d||300;this.width=c||500;"Heading"!=h&&"xAxisTitle"!=h&&(this.height=500<this.height||200>this.height?300:this.height,this.width=1E3<this.width||200>this.width?500:this.width);a=Math.ceil(this.width/window.innerWidth*100)+8;this.svg.setAttribute("class",h);this.svg.setAttribute("height",this.height);this.svg.setAttribute("width",this.width);
"Heading"!=h&&this.svg.setAttribute("style","width:"+a+"%;");this.rootElement.appendChild(this.svg);return this}function U(a,c,d,b){var f,e=c[c.length-2]-c[0];b=-(a.marginX-a.paddingX1);var g=a.yShift(c[c.length-2],c[0],e),k=a.yShift(c[0],c[0],e),n=a.coordinate(-(a.marginX-a.paddingX1),a.yShift(c[c.length-2],c[0],e));c=a.coordinate(-(a.marginX-a.paddingX1),a.yShift(c[0],c[0],e));d=a.drawRect(n.x+5,n.y-15,d,c.y-n.y+25,a.width,"stroke:#black; fill:transparent");a.drawLine(b,g,b,k,"crossHairLine").setAttribute("visibility",
"hidden");S(a,n,"tooltip","tooltipText");f=d.getBoundingClientRect().left;d.addEventListener("mousemove",function(a){var c=f,d=document.getElementsByClassName("crossHair"),c=Math.ceil(c);C.detail.x=Math.ceil(a.clientX-c);for(a=0;a<d.length;a++)d[a].dispatchEvent(C)},!1);d.addEventListener("mouserollover",V,!1);d.addEventListener("mouseout",W,!1)}function S(a,c,d,b){d=a.drawRect(c.x+5,c.y,d,10,0,"stroke:#8D6D60 ;stroke-width:1; fill:#FDD9CB");c=a.drawText(c,"","",b,0);c.setAttribute("style","fill: #8D6D60");
c.setAttribute("class",b);a.svg.insertBefore(d,c);return{rect:d,text:c}}function V(a){var c,d,b,f,e,g,k,n,l,r;document.getElementsByClassName("tooltips");var p=document.getElementsByClassName("crossHair"),q=document.getElementsByClassName("crossHairLine"),m=document.getElementsByClassName("tooltip"),w=document.getElementsByClassName("tooltipText");a=a.detail.x+0;document.getElementsByClassName("crossHair");for(var t=0;t<q.length;t++){q[t].setAttribute("visibility","visible");m[t].setAttribute("visibility",
"hidden");w[t].setAttribute("visibility","hidden");r=parseInt(p[t].getAttribute("x"));q[t].setAttribute("x1",a+r);q[t].setAttribute("x2",a+r);l=parseInt(q[t].getAttribute("x1"));k=parseInt(q[t].getAttribute("y1"));n=parseInt(q[t].getAttribute("y2"));d=parseInt(p[t].getAttribute("width"));r+=d;a:{d=u[t];e=0;c=d.length-1;for(f=void 0;e<=c;)if(f=Math.floor((e+c)/2),b=d[f][2],b+5<l)e=f+1;else if(b-5>l)c=f-1;else{e=f;break a}e=-1*(f+1)}if(0<=e){l=u[t][e][2];d=u[t][e][3];c=w[t].innerHTML.toString().length;
f=10*c+20;m[t].setAttribute("width",f.toString());m[t].setAttribute("height",25);w[t].innerHTML=u[t][e][1].toString();e=l+5;b=d-5;r-25<l+f&&(e=l-f-10);if(d+25+5>n)for(b=d+25;b+25+5>=n;)b--;if(d<k+5)for(b=d;b<=k+15;)b++;m[t].setAttribute("x",e);w[t].setAttribute("x",e+Math.floor((f-10*c)/2));m[t].setAttribute("y",b-10);w[t].setAttribute("y",b+7);m[t].setAttribute("visibility","visible");w[t].setAttribute("visibility","visible")}else if(e=Math.abs(e)-1,l<u[t][u[t].length-1][2]&&l>u[t][0][2]){l>u[t][e][2]?
(d=e,c=e+1):(d=e-1,c=e);e=u[t][d][2];b=u[t][d][3];f=u[t][c][2];g=u[t][c][3];b=((g-b)/(f-e)).toFixed(3);g-=b*f;b=Math.abs(b*l+g);f=(u[t][c][1]-u[t][d][1])/Math.abs(e-f);c=u[t][c][1]%1?(u[t][c][1]%1).toString().length:0;w[t].innerHTML=(u[t][d][1]+f*Math.abs(e-l)).toFixed(c).toString();d=Math.floor(b);c=w[t].innerHTML.toString().length;f=10*c+20;m[t].setAttribute("width",f.toString());m[t].setAttribute("height",25);e=l+5;b=d-5;r-25<l+f&&(e=l-f-10);if(d+30>n)for(b=d+25;b+30>=n;)b--;if(d<k+5)for(b=d;b<=
k+15;)b++;m[t].setAttribute("x",e);w[t].setAttribute("x",e+Math.floor((f-10*c)/2));m[t].setAttribute("y",b-10);w[t].setAttribute("y",b+7);m[t].setAttribute("visibility","visible");w[t].setAttribute("visibility","visible")}else m[t].setAttribute("visibility","hidden"),w[t].setAttribute("visibility","hidden")}}function W(a){a=document.getElementsByClassName("crossHairLine");for(var c=document.getElementsByClassName("tooltip"),d=document.getElementsByClassName("tooltipText"),b=0;b<a.length;b++)a[b].setAttribute("visibility",
"hidden"),c[b].setAttribute("visibility","hidden"),d[b].setAttribute("visibility","hidden")}function T(a,c){var d=0,h,f,e,g,k,n,l,r,p;M();N();c=G();for(var q=A=0,v=0;q<b.chart.yMap.length;q++){A++;m=new x(a,b.chart.width,b.chart.height,"chartSpace");m.drawYaxis(b.yAxisTicks[q],b.chart.yMap[q],c);m.drawXaxis(b.xAxisTicks,b.chart.xMap,c);e=b.xAxisTicks[b.xAxisTicks.length-1].getTime()-b.xAxisTicks[0].getTime();r=m.coordinate(0,0);l=m.xShift(b.xAxisTicks[b.xAxisTicks.length-1].getTime(),b.xAxisTicks[0].getTime(),
e)+m.marginX;if(!q){for(var w=1;w<u[q].length;w++)2>v?(d=Math.abs(d-m.xShift(u[q][w-1][0],b.xAxisTicks[0].getTime(),e)),v++):(h=Math.abs(m.xShift(u[q][w-1][0],b.xAxisTicks[0].getTime(),e)-m.xShift(u[q][w][0],b.xAxisTicks[0].getTime(),e)),d>h&&(d=h));d=Math.floor(d/2.2)}h=parseInt(m.svg.getBoundingClientRect().left);p=parseInt(m.svg.getBoundingClientRect().top);for(w=0;w<u[q].length;w++)f=b.yAxisTicks[q][b.yAxisTicks[q].length-1]-b.yAxisTicks[q][0],f=m.coordinate(m.xShift(u[q][w][0],b.xAxisTicks[0].getTime(),
e),m.yShift(u[q][w][1],b.yAxisTicks[q][0],f)),n=d%2?d-1:d,g=f.x-n/2,g<r.x&&(g=g+Math.abs(g-r.x)-.5),g+n>l&&(g-=Math.abs(g+n-l)),k=Math.abs(f.y-r.y),k||(f.y-=3,k=3),u[q][w][2]=g,u[q][w][3]=f.y,g=m.drawRect(g,f.y,"column",k,n,"",u[q][w][1],h+g,p+f.y);S(m,f,"column_Tooltip","column_tooltipText");m.svg.addEventListener("mousedown",function(c){O(c,m,a,"column")});m.svg.addEventListener("mousemove",function(c){P(c,m,a,"column")});m.svg.addEventListener("mouseup",function(c){F(c,m,a,"column")});m.svg.addEventListener("mouseleave",
function(c){F(c,m,a,"column")})}g=document.getElementsByClassName("column");for(q=0;q<g.length;q++)c=g[q].getAttribute("x"),d=g[q].getAttribute("y"),g[q].addEventListener("mousemove",X.bind(null,c,d)),g[q].addEventListener("mouserollover",Y,!1),g[q].addEventListener("mouseout",Z,!1)}function X(a,c,d){d=document.getElementsByClassName("column");C.detail.x=a;C.detail.y=c;for(a=0;a<d.length;a++)d[a].dispatchEvent(C)}function Y(a){a=a.detail.x;var c;c=document.getElementsByClassName("column");for(var d=
document.getElementsByClassName("column_Tooltip"),h=document.getElementsByClassName("column_tooltipText"),f,e,g,k,n=b.chart.marginY,l=b.chart.height-b.chart.marginY,r=b.chart.width,p=b.chart.marginX,q=0;q<c.length;q++)c[q].getAttribute("x")==a&&c[q].setAttribute("style","fill:#B74947;");for(q=0;q<u.length;q++)for(var m=0;m<u[q].length;m++)if(Math.floor(u[q][m][2])==Number(a)){h[q].innerHTML=u[q][m][1];c=Number(u[q][m][3]);a=Number(u[q][m][2]);f=h[q].innerHTML.toString().length;e=10*f+20;d[q].setAttribute("width",
e.toString());d[q].setAttribute("height",25);g=Number(a)+10;k=c-5;r-15<a+e&&(g=a-e);p+20>g&&(g=a+p-g+15);if(c+25>l)for(k=c+25;k+25-5>=l;)k--;if(c<n+5)for(k=c;k<=n+25;)k++;d[q].setAttribute("x",g);h[q].setAttribute("x",g+Math.floor((e-10*f)/2));d[q].setAttribute("y",k-10);h[q].setAttribute("y",k+7);d[q].setAttribute("visibility","visible");h[q].setAttribute("visibility","visible")}}function Z(a){a=document.getElementsByClassName("column");for(var c=document.getElementsByClassName("column_Tooltip"),
d=document.getElementsByClassName("column_tooltipText"),b=0,f=0;b<a.length;f++,b++)a[b].setAttribute("style","fill:#3E72CC;");for(f=0;f<c.length;f++)c[f].setAttribute("visibility","hidden"),d[f].setAttribute("visibility","hidden")}var b={},y,z,u=[],m={},B,A=0,v,H=!1,I,J,D,K=function(a){this.dataMap=b.chart.yMap;this.data=u;this.selector=a};K.prototype.SortMax=function(a){if("ascending"==a){var c=b.chart,d=this.dataMap,h=this.data,f=d.length,e=[];E(h[0]);for(var g=0;g<f;g++)e[g]=E(h[g]);for(g=0;g<
e.length;g++)for(f=g+1;f<e.length;f++)e[g]>e[f]&&(h=e[g],e[g]=e[f],e[f]=h,h=d[g],d[g]=d[f],d[f]=h);c.yMap=d}if("descending"==a){a=b.chart;c=this.dataMap;g=this.data;h=c.length;d=[];E(g[0]);for(e=0;e<h;e++)d[e]=E(g[e]);for(e=0;e<d.length;e++)for(h=e+1;h<d.length;h++)d[e]<d[h]&&(g=d[e],d[e]=d[h],d[h]=g,g=c[e],c[e]=c[h],c[h]=g);a.yMap=c}this.chartInstantiate()};K.prototype.chartInstantiate=function(){for(var a=document.getElementsByClassName("chartSpace");a.length;)document.getElementById(this.selector).removeChild(a[0]);
u=[];Q();"line"==b.chart.type?L(this.selector,D):"column"==b.chart.type&&T(this.selector,D)};window.render=function(a,c){"string"==typeof a&&(a=JSON.parse(a));var d=a,h,f;a=[];b.chart={};b.chart.caption=d.chart.caption||"Caption";b.chart.subCaption=d.chart.subCaption||"subCaption";b.chart.height=d.chart.height||300;b.chart.height=500<b.chart.height||200>b.chart.height?300:b.chart.height;b.chart.width=d.chart.width||500;b.chart.width=1E3<b.chart.width||200>b.chart.width?500:b.chart.width;b.chart.type=
d.chart.type||"line";b.chart.marginX=80;b.chart.marginY=20;b.chart.topMarginY=60;b.chart.xMap=d.chart.xAxisMap;b.data=d.data;for(var d=b.data.length,e=0,g=0;e<d;e++){h=Object.keys(b.data[e]);g||e||(a[g]=h[0]);for(var k=0;k<h.length;k++){for(var n=f=0;n<a.length;n++)a[n]==h[k]&&(f=1);f||h[k]==b.chart.xMap||(g++,a[g]=h[k])}}b.chart.yMap=a;Q();v=document.createElement("div");v.style.position="absolute";v.style.background="#727272";v.style.color="#727272";v.innerHTML="";v.style.opacity="0.3";v.id="selectSpace";
v.style.left="0px";v.style.top="0px";document.body.appendChild(v);(D=G())?(b.chart.marginY=45,b.chart.topMarginY=75):(b.chart.marginY=75,b.chart.topMarginY=45);a=new x(c,window.innerWidth-200,50,"Heading");d={x:a.width-Math.floor(a.width/2-a.marginX),y:20};a.drawText(d,".35em",b.chart.caption,"Caption");d={x:a.width-Math.floor(a.width/2-a.marginX),y:40};a.drawText(d,".35em",b.chart.subCaption,"subCaption");a=document.createElement("br");document.getElementById(c).appendChild(a);"line"==b.chart.type&&
L(c,D);"column"==b.chart.type&&T(c,D);window.customApiOb=new K(c)};var R=function(a){return Math.floor(a)!==a?a.toString().split(".")[1].length||0:0};x.prototype.coordinate=function(a,c){return{x:a+this.marginX,y:this.height-(c+this.marginY)}};x.prototype.drawLine=function(a,c,b,h,f){a=this.coordinate(a,c);b=this.coordinate(b,h);h=document.createElementNS("http://www.w3.org/2000/svg","line");h.setAttribute("x1",a.x);h.setAttribute("y1",a.y);h.setAttribute("x2",b.x);h.setAttribute("y2",b.y);h.setAttribute("class",
f);this.svg.appendChild(h);return h};x.prototype.drawXaxis=function(a,c,d){var h,f,e,g;a="";c=b.xAxisTicks[b.xAxisTicks.length-1];var k=b.xAxisTicks[0],n=b.xAxisTicks[b.xAxisTicks.length-1].getTime()-b.xAxisTicks[0].getTime();console.log(d);if(!d){if(b.chart.yMap.length-A<B&&0<=b.chart.yMap.length-A)for(var l=0;l<b.xAxisTicks.length;l++)d=this.xShift(b.xAxisTicks[l].getTime(),b.xAxisTicks[0].getTime(),n),h=-(this.marginY-this.marginY),f=d,e=-(this.marginY-this.marginY+5),g=this.coordinate(d+2,h-10),
this.drawLine(d,h,f,e,"xAxis"),864E5>n&&c.getDate()==k.getDate()&&c.getMonth()==k.getMonth()&&c.getFullYear()==k.getFullYear()&&(a=b.xAxisTicks[l].toString().split(" ")[4]),c.getDate()!=k.getDate()&&c.getMonth()==k.getMonth()&&c.getFullYear()==k.getFullYear()&&(a=b.xAxisTicks[l].toString().split(" ")[0]),c.getMonth()!=k.getMonth()&&c.getFullYear()==k.getFullYear()&&(a=b.xAxisTicks[l].toString().split(" ")[1]+"'"+b.xAxisTicks[l].toString().split(" ")[2]),c.getFullYear()!=k.getFullYear()&&(a=b.xAxisTicks[l].toString().split(" ")[1]+
"'"+b.xAxisTicks[l].toString().split(" ")[2]+","+b.xAxisTicks[l].toString().split(" ")[3][2]+""+b.xAxisTicks[l].toString().split(" ")[3][3]),this.drawText(g,".35em",a,"xAxisTickText1","270")}else if(0<B){for(l=0;l<b.xAxisTicks.length;l++)d=this.xShift(b.xAxisTicks[l].getTime(),b.xAxisTicks[0].getTime(),n),h=this.height-this.marginY-this.topMarginY-8,f=d,e=this.height-this.marginY-this.topMarginY,g=this.coordinate(d+2,h+10),this.drawLine(d,h,f,e,"xAxis"),864E5>n&&c.getDate()==k.getDate()&&c.getMonth()==
k.getMonth()&&c.getFullYear()==k.getFullYear()&&(a=b.xAxisTicks[l].toString().split(" ")[4]),c.getDate()!=k.getDate()&&c.getMonth()==k.getMonth()&&c.getFullYear()==k.getFullYear()&&(a=b.xAxisTicks[l].toString().split(" ")[0]),c.getMonth()!=k.getMonth()&&c.getFullYear()==k.getFullYear()&&(a=b.xAxisTicks[l].toString().split(" ")[1]+"'"+b.xAxisTicks[l].toString().split(" ")[2]),c.getFullYear()!=k.getFullYear()&&(a=b.xAxisTicks[l].toString().split(" ")[1]+"'"+b.xAxisTicks[l].toString().split(" ")[2]+
","+b.xAxisTicks[l].toString().split(" ")[3][2]+""+b.xAxisTicks[l].toString().split(" ")[3][3]),this.drawText(g,".35em",a,"xAxisTickText","270");B--}};x.prototype.drawYaxis=function(a,c,b){var h,f,e,g,k,n,l,m=0;n=0;h=Math.abs(a[a.length-1]-a[0]);for(var p=0;p<a.length;p++)f=0>a[0]?this.yShift(a[p]-a[0],a[0]-a[0],h):this.yShift(a[p],a[0],h),e=-(this.marginX-this.paddingX2-4),g=f,k=-(this.marginX-this.paddingX1-4),this.drawLine(e,f,k,g,"yAxisTick"),1E3>Math.abs(a[p])&&(e=this.coordinate(-(this.marginX-
this.paddingTextX-8),f-4),g=1>a[a.length-1]?a[a.length-1].toString().length-2:2,0==a[p]?l="0":l=a[p]%1?a[p].toFixed(g).toString():a[p].toString(),this.drawText(e,".35em",l,"yAxisTickText")),1E3<=Math.abs(a[p])&&1E6>Math.abs(a[p])&&(e=this.coordinate(-(this.marginX-this.paddingTextX-8),f-5),l=a[p]/1E3+"K",this.drawText(e,".35em",l,"yAxisTickText")),1E6<=Math.abs(a[p])&&1E9>Math.abs(a[p])&&(e=this.coordinate(-(this.marginX-this.paddingTextX-8),f-5),l=a[p]/1E6+"M",this.drawText(e,".35em",l,"yAxisTickText")),
1E9<=Math.abs(a[p])&&1E12>Math.abs(a[p])&&(e=this.coordinate(-(this.marginX-this.paddingTextX-8),f-5),l=a[p]/1E9+"B",this.drawText(e,".35em",l,"yAxisTickText")),1E12<=Math.abs(a[p])&&(e=this.coordinate(-(this.marginX-this.paddingTextX-8),f-5),l=a[p]/1E12+"T",this.drawText(e,".35em",l,"yAxisTickText")),e=this.coordinate(-1,f),g=this.coordinate(this.width,f),k=this.coordinate(this.width,n),n=this.coordinate(-1,n),n=e.x+","+e.y+" "+g.x+","+g.y+" "+k.x+","+k.y+" "+n.x+","+n.y+" "+e.x+","+e.y,p&&(m%2?
this.drawPolygon(n,"divDash2"):this.drawPolygon(n,"divDash1")),m++,n=f;b?(n=this.marginX-2+","+(this.height-5)+" "+(this.width+this.marginX)+","+(this.height-5)+" "+(this.width+this.marginX)+","+(this.height-40)+" "+(this.marginX-2)+","+(this.height-40)+" "+(this.marginX-2)+","+(this.height-20),this.drawPolygon(n,"titles"),e={x:this.width/2+this.marginX,y:this.height-15},this.drawText(e,".5em",c,"yAxisTitle","0")):(n=this.marginX-2+",0 "+(this.width+this.marginX)+",0 "+(this.width+this.marginX)+","+
this.topMarginY+" "+(this.marginX-2)+","+this.topMarginY+" "+(this.marginX-2)+",0",this.drawPolygon(n,"titles"),e={x:this.width/2+this.marginX,y:this.topMarginY-15},this.drawText(e,".5em",c,"yAxisTitle","0"))};x.prototype.xShift=function(a,c,b){return Math.floor((a-c)/b*this.width)};x.prototype.yShift=function(a,c,b){return Math.floor((a-c)/b*(this.height-this.marginY-7-this.topMarginY))};x.prototype.drawPoly=function(a,c){var b=document.createElementNS("http://www.w3.org/2000/svg","polyline");b.setAttribute("points",
a);b.setAttribute("class",c);this.svg.appendChild(b);return b};x.prototype.drawCircle=function(a,b,d,h){var f=document.createElementNS("http://www.w3.org/2000/svg","circle");f.setAttribute("cx",a.x);f.setAttribute("cy",a.y);f.setAttribute("r",4);f.setAttribute("fill","#ffffff");f.setAttribute("absoluteX",d);f.setAttribute("absoluteY",h);f.setAttribute("class",b);f.style.zIndex=1E3;this.svg.appendChild(f);return f};x.prototype.drawText=function(a,b,d,h,f){b=document.createElementNS("http://www.w3.org/2000/svg",
"text");b.setAttribute("x",a.x.toString());b.setAttribute("y",a.y.toString());b.innerHTML=d;b.setAttribute("fill","#555");f&&b.setAttribute("transform","rotate("+f+" "+a.x.toString()+","+a.y.toString()+")");b.setAttribute("class",h);this.svg.appendChild(b);return b};x.prototype.drawRect=function(a,b,d,h,f,e,g,k,m){var l=document.createElementNS("http://www.w3.org/2000/svg","rect");e=e||"stroke:#3E72CC;fill:#3E72CC";g=g||"";l.setAttribute("x",a);l.setAttribute("y",b);l.setAttribute("height",h);l.setAttribute("width",
f);l.setAttribute("style",e);l.setAttribute("class",d);l.setAttribute("value",g);l.setAttribute("absoluteX",k);l.setAttribute("absoluteY",m);this.svg.appendChild(l);return l};x.prototype.drawPolygon=function(a,b){var d=document.createElementNS("http://www.w3.org/2000/svg","polygon");d.setAttribute("points",a);d.setAttribute("class",b);this.svg.appendChild(d)};var C=new CustomEvent("mouserollover",{detail:{x:"",y:"",left:""}})})();window.onresize=function(){location.reload()};
}).call(this)
